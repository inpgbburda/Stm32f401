/**
* File contains 
*
*/
#ifndef PWM_H
#define PWM_H
/*
|===================================================================================================================================|
    File includes 
|===================================================================================================================================|
*/
#include <stdbool.h>
#include "stm32f401xc.h" //TODO: Apply the same strategy into spi driver

/*
|===================================================================================================================================|
    Exported types declarations
|===================================================================================================================================|
*/
typedef struct
{
    TIM_TypeDef* instance;
    uint16_t prescaler_val;
    uint32_t reload_val;
    uint16_t chan_sel;
}
Pwm_Cfg_T;

typedef enum
{
    PWM_CHAN_1,
    PWM_CHAN_2,
    PWM_CHAN_3,
    PWM_CHAN_4
}
Pwm_Timer_Chan_T;


/*
|===================================================================================================================================|
    Exported objects declarations
|===================================================================================================================================|
*/

/*
|===================================================================================================================================|
    Exported functions declarations
|===================================================================================================================================|
*/
void PwmInit(const Pwm_Cfg_T* config);

void PwmStart(const Pwm_Cfg_T *config);

void PwmSetDuty(const Pwm_Cfg_T* config, Pwm_Timer_Chan_T channel, uint32_t cc_reg_val);

#endif /* PWM_H */