/**
* @file motor_ctrl.c
* @brief Module for converting received data into motor control signals.
*
*
* @note - 
* @attention - 
* @see - 
* @author
* @date 
*/

/*
|===================================================================================================================================|
    File includes 
|===================================================================================================================================|
*/
#ifdef UNIT_TEST
#include "FreeRTOS.h"
#endif

#include "motor_ctrl.h"
#include "queue.h"
#include "pwm.h"
#include "pwm_cfg.h"

/*
|===================================================================================================================================|
    Macro definitions
|===================================================================================================================================|
*/
#define MAX_QUEUE_LENGTH 10

/*
|===================================================================================================================================|
    Local types definitions 
|===================================================================================================================================|
*/

/*
|===================================================================================================================================|
    Object allocations 
|===================================================================================================================================|
*/

/*
|===================================================================================================================================|
    Local function declarations
|===================================================================================================================================|
*/

/*
|===================================================================================================================================|
    Function definitions
|===================================================================================================================================|
*/

void* MotorCtrlInit(void)
{
    static QueueHandle_t          inbox_queue_handle;
    inbox_queue_handle = xQueueCreate(MAX_QUEUE_LENGTH, MOTORS_NUMBER);
    return inbox_queue_handle;
}

void CalculateMotorsSets(void)
{
    PwmSetDuty(&Pwm2_Config, 1, 1);
}